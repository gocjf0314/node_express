"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _express = _interopRequireDefault(require("express"));
var _bodyParser = _interopRequireDefault(require("body-parser"));
var _dotenv = _interopRequireDefault(require("dotenv"));
var _queryString = _interopRequireDefault(require("query-string"));
var _cors = _interopRequireDefault(require("cors"));
var _url = require("url");
var _request = _interopRequireDefault(require("request"));
var _process$env$CLIENT_I, _process$env$CLIENT_S;
// Load .env file
_dotenv.default.configDotenv();
const port = process.env.PORT;
const client_id = (_process$env$CLIENT_I = process.env.CLIENT_ID) !== null && _process$env$CLIENT_I !== void 0 ? _process$env$CLIENT_I : '';
const client_secret = (_process$env$CLIENT_S = process.env.CLIENT_SECRET) !== null && _process$env$CLIENT_S !== void 0 ? _process$env$CLIENT_S : '';
const redirect_uri = "http://localhost:3000/callback";
const _dirname = (0, _url.fileURLToPath)(new URL(".", import.meta.url));

// Create express server app
const app = (0, _express.default)();
app.set("view engine", "ejs");
app.set("views", "./views");
app.use(_bodyParser.default.urlencoded({
  extended: true
})).use(_express.default.static(_dirname + "/public")).use((0, _cors.default)());
function generateRandomString(randomLength) {
  const randomChars = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
  let generatedString = "";
  for (let index = 0; index < randomLength; index++) {
    generatedString += randomChars.charAt(Math.floor(Math.random() * randomChars.length));
  }
  return generatedString;
}
function generateCodeChallenge(_x) {
  return _generateCodeChallenge.apply(this, arguments);
}
function _generateCodeChallenge() {
  _generateCodeChallenge = (0, _asyncToGenerator2.default)(function* (codeVerifier) {
    function base64encode(value) {
      return btoa(String.fromCharCode.apply(null, [...new Uint8Array(value)])).replace(/\+/g, '-').replace(/\//g, '_').replace(/=+$/, '');
    }
    const encoder = new TextEncoder();
    const data = encoder.encode(codeVerifier);
    if (typeof window !== "undefined") {
      const digest = yield window.crypto.subtle.digest('SHA-256', data);
      return base64encode(digest);
    } else {
      return "";
    }
  });
  return _generateCodeChallenge.apply(this, arguments);
}
const codeVerifier = generateRandomString(128);
generateCodeChallenge(codeVerifier).then(codeChallenge => {
  let state = generateRandomString(16);
  let scope = 'user-read-private user-read-email';
  if (typeof localStorage !== "undefined") {
    localStorage.setItem('code_verifier', codeVerifier);
  }
  let args = new URLSearchParams({
    response_type: 'code',
    client_id: client_id,
    scope: scope,
    redirect_uri: redirect_uri,
    state: state,
    code_challenge_method: 'S256',
    code_challenge: codeChallenge
  }).toString();
  if (typeof window !== "undefined") {
    window.location.href = 'https://accounts.spotify.com/authorize?' + args;
    const urlParams = new URLSearchParams(window.location.search);
    let code = urlParams.get('code');
  }
});
function getProfile(_x2) {
  return _getProfile.apply(this, arguments);
}
function _getProfile() {
  _getProfile = (0, _asyncToGenerator2.default)(function* (accessToken) {
    var _localStorage$getItem;
    let access_token = (_localStorage$getItem = localStorage.getItem('access_token')) !== null && _localStorage$getItem !== void 0 ? _localStorage$getItem : "";
    const response = yield fetch('https://api.spotify.com/v1/me', {
      headers: {
        Authorization: 'Bearer ' + access_token
      }
    });
    const data = yield response.json();
    return data;
  });
  return _getProfile.apply(this, arguments);
}
app.get("/login", function (req, res) {
  var state = generateRandomString(16);
  var scope = "user-read-private user-read-email";

  // request authorization
  res.redirect("https://accounts.spotify.com/authorize?" + _queryString.default.stringify({
    response_type: "code",
    client_id: client_id,
    redirect_uri: redirect_uri,
    scope: scope,
    state: state
  }));
});
app.get("/callback", /*#__PURE__*/function () {
  var _ref = (0, _asyncToGenerator2.default)(function* (req, res) {
    var code = req.query.code || null;
    var state = req.query.state || null;
    if (state === null) {
      res.redirect("/#" + _queryString.default.stringify({
        error: "state_mismatch"
      }));
    } else {
      var authOptions = {
        url: "https://accounts.spotify.com/api/token",
        form: {
          code: code,
          redirect_uri: redirect_uri,
          grant_type: "authorization_code"
        },
        headers: {
          Authorization: "Basic " + Buffer.from(client_id + ":" + client_secret).toString("base64")
        },
        json: true
      };
      _request.default.post(authOptions, function (error, response, body) {
        console.log(response.statusMessage);
        if (!error && response.statusCode === 200) {
          const access_token = body.access_token;
          const refresh_token = body.refresh_token;
          var options = {
            headers: {
              Authorization: "Bearer " + access_token
            },
            json: true
          };

          // use the access token to access the Spotify Web API
          _request.default.get("https://api.spotify.com/v1/me", options, function (error, response, body) {
            console.log(response.statusMessage);
            if (error || response.statusCode !== 200) {
              console.log(error);
            }
          });

          // we can also pass the token to the browser to make requests from there
          res.redirect("/#" + _queryString.default.stringify({
            access_token: access_token,
            refresh_token: refresh_token
          }));
        } else {
          res.redirect("/#" + _queryString.default.stringify({
            error: "invalid_token"
          }));
        }
      });
    }
  });
  return function (_x3, _x4) {
    return _ref.apply(this, arguments);
  };
}());
app.get("/refresh_token", /*#__PURE__*/function () {
  var _ref2 = (0, _asyncToGenerator2.default)(function* (req, res) {
    var refresh_token = req.query.refresh_token;
    var authOptions = {
      headers: {
        Authorization: "Basic " + Buffer.from(client_id + ":" + client_secret).toString("base64")
      },
      form: {
        grant_type: "refresh_token",
        refresh_token: refresh_token
      },
      json: true
    };
    _request.default.post("https://accounts.spotify.com/api/token", authOptions, function (error, response) {
      console.log(`{statusCode:${response.statusCode}, statusMessage:${response.statusMessage}}`);
      if (!error && response.statusCode === 200) {
        console.log("Success get refresh token");
      } else {
        console.log(`Rerresh token Error: ${error}`);
      }
    });
  });
  return function (_x5, _x6) {
    return _ref2.apply(this, arguments);
  };
}());
app.listen(port, () => {
  console.log(`Server is running at port:${port}`);
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2JvZHlQYXJzZXIiLCJfZG90ZW52IiwiX3F1ZXJ5U3RyaW5nIiwiX2NvcnMiLCJfdXJsIiwiX3JlcXVlc3QiLCJfcHJvY2VzcyRlbnYkQ0xJRU5UX0kiLCJfcHJvY2VzcyRlbnYkQ0xJRU5UX1MiLCJkb3RlbnYiLCJjb25maWdEb3RlbnYiLCJwb3J0IiwicHJvY2VzcyIsImVudiIsIlBPUlQiLCJjbGllbnRfaWQiLCJDTElFTlRfSUQiLCJjbGllbnRfc2VjcmV0IiwiQ0xJRU5UX1NFQ1JFVCIsInJlZGlyZWN0X3VyaSIsIl9fZGlybmFtZSIsImZpbGVVUkxUb1BhdGgiLCJVUkwiLCJpbXBvcnQiLCJtZXRhIiwidXJsIiwiYXBwIiwiZXhwcmVzcyIsInNldCIsInVzZSIsImJvZHlwYXJzZSIsInVybGVuY29kZWQiLCJleHRlbmRlZCIsInN0YXRpYyIsImNvcnMiLCJnZW5lcmF0ZVJhbmRvbVN0cmluZyIsInJhbmRvbUxlbmd0aCIsInJhbmRvbUNoYXJzIiwiZ2VuZXJhdGVkU3RyaW5nIiwiaW5kZXgiLCJjaGFyQXQiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJsZW5ndGgiLCJnZW5lcmF0ZUNvZGVDaGFsbGVuZ2UiLCJfeCIsIl9nZW5lcmF0ZUNvZGVDaGFsbGVuZ2UiLCJhcHBseSIsImFyZ3VtZW50cyIsIl9hc3luY1RvR2VuZXJhdG9yMiIsImRlZmF1bHQiLCJjb2RlVmVyaWZpZXIiLCJiYXNlNjRlbmNvZGUiLCJ2YWx1ZSIsImJ0b2EiLCJTdHJpbmciLCJmcm9tQ2hhckNvZGUiLCJVaW50OEFycmF5IiwicmVwbGFjZSIsImVuY29kZXIiLCJUZXh0RW5jb2RlciIsImRhdGEiLCJlbmNvZGUiLCJ3aW5kb3ciLCJkaWdlc3QiLCJjcnlwdG8iLCJzdWJ0bGUiLCJ0aGVuIiwiY29kZUNoYWxsZW5nZSIsInN0YXRlIiwic2NvcGUiLCJsb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwiYXJncyIsIlVSTFNlYXJjaFBhcmFtcyIsInJlc3BvbnNlX3R5cGUiLCJjb2RlX2NoYWxsZW5nZV9tZXRob2QiLCJjb2RlX2NoYWxsZW5nZSIsInRvU3RyaW5nIiwibG9jYXRpb24iLCJocmVmIiwidXJsUGFyYW1zIiwic2VhcmNoIiwiY29kZSIsImdldCIsImdldFByb2ZpbGUiLCJfeDIiLCJfZ2V0UHJvZmlsZSIsImFjY2Vzc1Rva2VuIiwiX2xvY2FsU3RvcmFnZSRnZXRJdGVtIiwiYWNjZXNzX3Rva2VuIiwiZ2V0SXRlbSIsInJlc3BvbnNlIiwiZmV0Y2giLCJoZWFkZXJzIiwiQXV0aG9yaXphdGlvbiIsImpzb24iLCJyZXEiLCJyZXMiLCJyZWRpcmVjdCIsInF1ZXJ5U3RyaW5nIiwic3RyaW5naWZ5IiwiX3JlZiIsInF1ZXJ5IiwiZXJyb3IiLCJhdXRoT3B0aW9ucyIsImZvcm0iLCJncmFudF90eXBlIiwiQnVmZmVyIiwiZnJvbSIsInJlcXVlc3QiLCJwb3N0IiwiYm9keSIsImNvbnNvbGUiLCJsb2ciLCJzdGF0dXNNZXNzYWdlIiwic3RhdHVzQ29kZSIsInJlZnJlc2hfdG9rZW4iLCJvcHRpb25zIiwiX3gzIiwiX3g0IiwiX3JlZjIiLCJfeDUiLCJfeDYiLCJsaXN0ZW4iXSwic291cmNlcyI6WyIuLi9zcmMvaW5kZXgudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MsIHsgRXhwcmVzcywgUmVxdWVzdCwgUmVzcG9uc2UgfSBmcm9tIFwiZXhwcmVzc1wiO1xuaW1wb3J0IGJvZHlwYXJzZSBmcm9tIFwiYm9keS1wYXJzZXJcIjtcbmltcG9ydCBkb3RlbnYgZnJvbSBcImRvdGVudlwiO1xuaW1wb3J0IHF1ZXJ5U3RyaW5nIGZyb20gXCJxdWVyeS1zdHJpbmdcIjtcbmltcG9ydCBjb3JzIGZyb20gXCJjb3JzXCI7XG5pbXBvcnQgeyBmaWxlVVJMVG9QYXRoIH0gZnJvbSBcInVybFwiO1xuaW1wb3J0IHJlcXVlc3QgZnJvbSBcInJlcXVlc3RcIjtcblxuLy8gTG9hZCAuZW52IGZpbGVcbmRvdGVudi5jb25maWdEb3RlbnYoKTtcblxuY29uc3QgcG9ydCA9IHByb2Nlc3MuZW52LlBPUlQ7XG5jb25zdCBjbGllbnRfaWQgPSBwcm9jZXNzLmVudi5DTElFTlRfSUQgPz8gJyc7XG5jb25zdCBjbGllbnRfc2VjcmV0ID0gcHJvY2Vzcy5lbnYuQ0xJRU5UX1NFQ1JFVCA/PyAnJztcbmNvbnN0IHJlZGlyZWN0X3VyaTogc3RyaW5nID0gXCJodHRwOi8vbG9jYWxob3N0OjMwMDAvY2FsbGJhY2tcIjtcbmNvbnN0IF9fZGlybmFtZSA9IGZpbGVVUkxUb1BhdGgobmV3IFVSTChcIi5cIiwgaW1wb3J0Lm1ldGEudXJsKSk7XG5cbi8vIENyZWF0ZSBleHByZXNzIHNlcnZlciBhcHBcbmNvbnN0IGFwcDogRXhwcmVzcyA9IGV4cHJlc3MoKTtcblxuYXBwLnNldChcInZpZXcgZW5naW5lXCIsIFwiZWpzXCIpO1xuYXBwLnNldChcInZpZXdzXCIsIFwiLi92aWV3c1wiKTtcblxuYXBwXG4gIC51c2UoYm9keXBhcnNlLnVybGVuY29kZWQoeyBleHRlbmRlZDogdHJ1ZSB9KSlcbiAgLnVzZShleHByZXNzLnN0YXRpYyhfX2Rpcm5hbWUgKyBcIi9wdWJsaWNcIikpXG4gIC51c2UoY29ycygpKTtcblxuZnVuY3Rpb24gZ2VuZXJhdGVSYW5kb21TdHJpbmcocmFuZG9tTGVuZ3RoOiBudW1iZXIpOiBzdHJpbmcge1xuICBjb25zdCByYW5kb21DaGFycyA9XG4gICAgXCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OVwiO1xuICBsZXQgZ2VuZXJhdGVkU3RyaW5nID0gXCJcIjtcbiAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHJhbmRvbUxlbmd0aDsgaW5kZXgrKykge1xuICAgIGdlbmVyYXRlZFN0cmluZyArPSByYW5kb21DaGFycy5jaGFyQXQoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogcmFuZG9tQ2hhcnMubGVuZ3RoKSk7XG4gIH1cbiAgcmV0dXJuIGdlbmVyYXRlZFN0cmluZztcbn1cblxuYXN5bmMgZnVuY3Rpb24gZ2VuZXJhdGVDb2RlQ2hhbGxlbmdlKGNvZGVWZXJpZmllcjogc3RyaW5nKSB7XG4gIGZ1bmN0aW9uIGJhc2U2NGVuY29kZSh2YWx1ZTogQXJyYXlCdWZmZXIpIHtcbiAgICByZXR1cm4gYnRvYShTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsIFsuLi5uZXcgVWludDhBcnJheSh2YWx1ZSldKSlcbiAgICAgIC5yZXBsYWNlKC9cXCsvZywgJy0nKVxuICAgICAgLnJlcGxhY2UoL1xcLy9nLCAnXycpXG4gICAgICAucmVwbGFjZSgvPSskLywgJycpO1xuICB9XG5cbiAgY29uc3QgZW5jb2RlcjogVGV4dEVuY29kZXIgPSBuZXcgVGV4dEVuY29kZXIoKTtcbiAgY29uc3QgZGF0YTogVWludDhBcnJheSA9IGVuY29kZXIuZW5jb2RlKGNvZGVWZXJpZmllcik7XG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgY29uc3QgZGlnZXN0OiBBcnJheUJ1ZmZlciA9IGF3YWl0IHdpbmRvdy5jcnlwdG8uc3VidGxlLmRpZ2VzdCgnU0hBLTI1NicsIGRhdGEpO1xuICAgIHJldHVybiBiYXNlNjRlbmNvZGUoZGlnZXN0KTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gXCJcIjtcbiAgfVxufVxuXG5jb25zdCBjb2RlVmVyaWZpZXI6IHN0cmluZyA9IGdlbmVyYXRlUmFuZG9tU3RyaW5nKDEyOCk7XG5cbmdlbmVyYXRlQ29kZUNoYWxsZW5nZShjb2RlVmVyaWZpZXIpLnRoZW4oY29kZUNoYWxsZW5nZSA9PiB7XG4gIGxldCBzdGF0ZSA9IGdlbmVyYXRlUmFuZG9tU3RyaW5nKDE2KTtcbiAgbGV0IHNjb3BlID0gJ3VzZXItcmVhZC1wcml2YXRlIHVzZXItcmVhZC1lbWFpbCc7XG5cbiAgaWYgKHR5cGVvZiBsb2NhbFN0b3JhZ2UgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnY29kZV92ZXJpZmllcicsIGNvZGVWZXJpZmllcik7XG4gIH1cblxuICBsZXQgYXJncyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoe1xuICAgIHJlc3BvbnNlX3R5cGU6ICdjb2RlJyxcbiAgICBjbGllbnRfaWQ6IGNsaWVudF9pZCxcbiAgICBzY29wZTogc2NvcGUsXG4gICAgcmVkaXJlY3RfdXJpOiByZWRpcmVjdF91cmksXG4gICAgc3RhdGU6IHN0YXRlLFxuICAgIGNvZGVfY2hhbGxlbmdlX21ldGhvZDogJ1MyNTYnLFxuICAgIGNvZGVfY2hhbGxlbmdlOiBjb2RlQ2hhbGxlbmdlXG4gIH0pLnRvU3RyaW5nKCk7XG5cbiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICdodHRwczovL2FjY291bnRzLnNwb3RpZnkuY29tL2F1dGhvcml6ZT8nICsgYXJncztcbiAgICBjb25zdCB1cmxQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gpO1xuICAgIGxldCBjb2RlID0gdXJsUGFyYW1zLmdldCgnY29kZScpO1xuICB9XG59KTtcblxuYXN5bmMgZnVuY3Rpb24gZ2V0UHJvZmlsZShhY2Nlc3NUb2tlbjogc3RyaW5nKSB7XG4gIGxldCBhY2Nlc3NfdG9rZW46IHN0cmluZyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdhY2Nlc3NfdG9rZW4nKSA/PyBcIlwiO1xuXG4gIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJ2h0dHBzOi8vYXBpLnNwb3RpZnkuY29tL3YxL21lJywge1xuICAgIGhlYWRlcnM6IHtcbiAgICAgIEF1dGhvcml6YXRpb246ICdCZWFyZXIgJyArIGFjY2Vzc190b2tlblxuICAgIH1cbiAgfSk7XG5cbiAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgcmV0dXJuIGRhdGE7XG59XG5cbmFwcC5nZXQoXCIvbG9naW5cIiwgZnVuY3Rpb24gKHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSkge1xuICB2YXIgc3RhdGUgPSBnZW5lcmF0ZVJhbmRvbVN0cmluZygxNik7XG4gIHZhciBzY29wZSA9IFwidXNlci1yZWFkLXByaXZhdGUgdXNlci1yZWFkLWVtYWlsXCI7XG5cbiAgLy8gcmVxdWVzdCBhdXRob3JpemF0aW9uXG4gIHJlcy5yZWRpcmVjdChcbiAgICBcImh0dHBzOi8vYWNjb3VudHMuc3BvdGlmeS5jb20vYXV0aG9yaXplP1wiICtcbiAgICBxdWVyeVN0cmluZy5zdHJpbmdpZnkoe1xuICAgICAgcmVzcG9uc2VfdHlwZTogXCJjb2RlXCIsXG4gICAgICBjbGllbnRfaWQ6IGNsaWVudF9pZCxcbiAgICAgIHJlZGlyZWN0X3VyaTogcmVkaXJlY3RfdXJpLFxuICAgICAgc2NvcGU6IHNjb3BlLFxuICAgICAgc3RhdGU6IHN0YXRlLFxuICAgIH0pXG4gICk7XG59KTtcblxuYXBwLmdldChcIi9jYWxsYmFja1wiLCBhc3luYyBmdW5jdGlvbiAocmVxOiBSZXF1ZXN0LCByZXM6IFJlc3BvbnNlKSB7XG4gIHZhciBjb2RlID0gcmVxLnF1ZXJ5LmNvZGUgfHwgbnVsbDtcbiAgdmFyIHN0YXRlID0gcmVxLnF1ZXJ5LnN0YXRlIHx8IG51bGw7XG4gIFxuICBpZiAoc3RhdGUgPT09IG51bGwpIHtcbiAgICByZXMucmVkaXJlY3QoXG4gICAgICBcIi8jXCIgK1xuICAgICAgcXVlcnlTdHJpbmcuc3RyaW5naWZ5KHtcbiAgICAgICAgZXJyb3I6IFwic3RhdGVfbWlzbWF0Y2hcIixcbiAgICAgIH0pXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgYXV0aE9wdGlvbnMgPSB7XG4gICAgICB1cmw6IFwiaHR0cHM6Ly9hY2NvdW50cy5zcG90aWZ5LmNvbS9hcGkvdG9rZW5cIixcbiAgICAgIGZvcm06IHtcbiAgICAgICAgY29kZTogY29kZSxcbiAgICAgICAgcmVkaXJlY3RfdXJpOiByZWRpcmVjdF91cmksXG4gICAgICAgIGdyYW50X3R5cGU6IFwiYXV0aG9yaXphdGlvbl9jb2RlXCIsXG4gICAgICB9LFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBBdXRob3JpemF0aW9uOlxuICAgICAgICAgIFwiQmFzaWMgXCIgK1xuICAgICAgICAgIEJ1ZmZlci5mcm9tKGNsaWVudF9pZCArIFwiOlwiICsgY2xpZW50X3NlY3JldCkudG9TdHJpbmcoXCJiYXNlNjRcIiksXG4gICAgICB9LFxuICAgICAganNvbjogdHJ1ZSxcbiAgICB9O1xuXG4gICAgcmVxdWVzdC5wb3N0KFxuICAgICAgYXV0aE9wdGlvbnMsXG4gICAgICBmdW5jdGlvbiAoZXJyb3I6IEVycm9yLCByZXNwb25zZTogcmVxdWVzdC5SZXNwb25zZSwgYm9keSkge1xuICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5zdGF0dXNNZXNzYWdlKTtcblxuICAgICAgICBpZiAoIWVycm9yICYmIHJlc3BvbnNlLnN0YXR1c0NvZGUgPT09IDIwMCkge1xuICAgICAgICAgIGNvbnN0IGFjY2Vzc190b2tlbjogc3RyaW5nID0gYm9keS5hY2Nlc3NfdG9rZW47XG4gICAgICAgICAgY29uc3QgcmVmcmVzaF90b2tlbjogc3RyaW5nID0gYm9keS5yZWZyZXNoX3Rva2VuO1xuXG4gICAgICAgICAgdmFyIG9wdGlvbnM6IHJlcXVlc3QuQ29yZU9wdGlvbnMgPSB7XG4gICAgICAgICAgICBoZWFkZXJzOiB7IEF1dGhvcml6YXRpb246IFwiQmVhcmVyIFwiICsgYWNjZXNzX3Rva2VuIH0sXG4gICAgICAgICAgICBqc29uOiB0cnVlLFxuICAgICAgICAgIH07XG5cbiAgICAgICAgICAvLyB1c2UgdGhlIGFjY2VzcyB0b2tlbiB0byBhY2Nlc3MgdGhlIFNwb3RpZnkgV2ViIEFQSVxuICAgICAgICAgIHJlcXVlc3QuZ2V0KFxuICAgICAgICAgICAgXCJodHRwczovL2FwaS5zcG90aWZ5LmNvbS92MS9tZVwiLFxuICAgICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChlcnJvciwgcmVzcG9uc2UsIGJvZHkpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2Uuc3RhdHVzTWVzc2FnZSk7XG5cbiAgICAgICAgICAgICAgaWYgKGVycm9yIHx8IHJlc3BvbnNlLnN0YXR1c0NvZGUgIT09IDIwMCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICk7XG5cbiAgICAgICAgICAvLyB3ZSBjYW4gYWxzbyBwYXNzIHRoZSB0b2tlbiB0byB0aGUgYnJvd3NlciB0byBtYWtlIHJlcXVlc3RzIGZyb20gdGhlcmVcbiAgICAgICAgICByZXMucmVkaXJlY3QoXG4gICAgICAgICAgICBcIi8jXCIgK1xuICAgICAgICAgICAgcXVlcnlTdHJpbmcuc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgYWNjZXNzX3Rva2VuOiBhY2Nlc3NfdG9rZW4sXG4gICAgICAgICAgICAgIHJlZnJlc2hfdG9rZW46IHJlZnJlc2hfdG9rZW4sXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzLnJlZGlyZWN0KFxuICAgICAgICAgICAgXCIvI1wiICtcbiAgICAgICAgICAgIHF1ZXJ5U3RyaW5nLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgIGVycm9yOiBcImludmFsaWRfdG9rZW5cIixcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICk7XG4gIH1cbn0pO1xuXG5hcHAuZ2V0KFwiL3JlZnJlc2hfdG9rZW5cIiwgYXN5bmMgZnVuY3Rpb24gKHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSkge1xuICB2YXIgcmVmcmVzaF90b2tlbiA9IHJlcS5xdWVyeS5yZWZyZXNoX3Rva2VuO1xuICB2YXIgYXV0aE9wdGlvbnM6IHJlcXVlc3QuQ29yZU9wdGlvbnMgPSB7XG4gICAgaGVhZGVyczoge1xuICAgICAgQXV0aG9yaXphdGlvbjpcbiAgICAgICAgXCJCYXNpYyBcIiArXG4gICAgICAgIEJ1ZmZlci5mcm9tKGNsaWVudF9pZCArIFwiOlwiICsgY2xpZW50X3NlY3JldCkudG9TdHJpbmcoXCJiYXNlNjRcIiksXG4gICAgfSxcbiAgICBmb3JtOiB7XG4gICAgICBncmFudF90eXBlOiBcInJlZnJlc2hfdG9rZW5cIixcbiAgICAgIHJlZnJlc2hfdG9rZW46IHJlZnJlc2hfdG9rZW4sXG4gICAgfSxcbiAgICBqc29uOiB0cnVlLFxuICB9O1xuICByZXF1ZXN0LnBvc3QoXG4gICAgXCJodHRwczovL2FjY291bnRzLnNwb3RpZnkuY29tL2FwaS90b2tlblwiLFxuICAgIGF1dGhPcHRpb25zLFxuICAgIGZ1bmN0aW9uIChlcnJvcjogRXJyb3IsIHJlc3BvbnNlOiByZXF1ZXN0LlJlc3BvbnNlKSB7XG4gICAgICBjb25zb2xlLmxvZyhge3N0YXR1c0NvZGU6JHtyZXNwb25zZS5zdGF0dXNDb2RlfSwgc3RhdHVzTWVzc2FnZToke3Jlc3BvbnNlLnN0YXR1c01lc3NhZ2V9fWApO1xuICAgICAgaWYgKCFlcnJvciAmJiByZXNwb25zZS5zdGF0dXNDb2RlID09PSAyMDApIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJTdWNjZXNzIGdldCByZWZyZXNoIHRva2VuXCIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5sb2coYFJlcnJlc2ggdG9rZW4gRXJyb3I6ICR7ZXJyb3J9YCk7XG4gICAgICB9XG4gICAgfVxuICApO1xufSk7XG5cbmFwcC5saXN0ZW4ocG9ydCwgKCkgPT4ge1xuICBjb25zb2xlLmxvZyhgU2VydmVyIGlzIHJ1bm5pbmcgYXQgcG9ydDoke3BvcnR9YCk7XG59KTtcbiJdLCJtYXBwaW5ncyI6Ijs7OztBQUFBLElBQUFBLFFBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLFdBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLE9BQUEsR0FB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